{"ast":null,"code":"var _jsxFileName = \"/Users/liuxiaoyan/Desktop/orange/src/Pages/Postorder.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass Postorder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rid: this.props.r.rid,\n      uid: this.props.uid.email\n    };\n    this.cancelorder = this.cancelorder.bind(this);\n  }\n\n  cancelorder() {\n    let url = \"http://127.0.0.1:8081/v2/booking/cancelorder\";\n    const data = this.state;\n    console.log(data);\n    fetch(url, {\n      method: 'post',\n      headers: {\n        'content-type': 'application/json',\n        'accept': 'application/xml'\n      },\n      body: JSON.stringify(data)\n    }).then(result => {\n      result.json().then(resp => {\n        console.log(resp);\n\n        if (resp === \"Your order has been removed\") {\n          alert(\"Your order has been removed\");\n          this.props.history.push(\"/orders\");\n        }\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"order_cancel\",\n      onClick: () => this.cancelorder(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Cancel order\"));\n  }\n\n}\n\nexport default withRouter(Postorder);","map":{"version":3,"sources":["/Users/liuxiaoyan/Desktop/orange/src/Pages/Postorder.js"],"names":["React","Component","withRouter","Postorder","constructor","props","state","rid","r","uid","email","cancelorder","bind","url","data","console","log","fetch","method","headers","body","JSON","stringify","then","result","json","resp","alert","history","push","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;AAC9BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAC,KAAKF,KAAL,CAAWG,CAAX,CAAaD,GADR;AAETE,MAAAA,GAAG,EAAC,KAAKJ,KAAL,CAAWI,GAAX,CAAeC;AAFV,KAAb;AAKA,SAAKC,WAAL,GAAiB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAjB;AACH;;AACDD,EAAAA,WAAW,GAAE;AACT,QAAIE,GAAG,GAAC,8CAAR;AACA,UAAMC,IAAI,GAAC,KAAKR,KAAhB;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEAG,IAAAA,KAAK,CAACJ,GAAD,EAAK;AACNK,MAAAA,MAAM,EAAE,MADF;AAENC,MAAAA,OAAO,EAAC;AACJ,wBAAe,kBADX;AAEJ,kBAAS;AAFL,OAFF;AAMNC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AANA,KAAL,CAAL,CAOGS,IAPH,CAOSC,MAAD,IAAY;AAChBA,MAAAA,MAAM,CAACC,IAAP,GAAcF,IAAd,CAAoBG,IAAD,IAAQ;AACvBX,QAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;;AACA,YAAGA,IAAI,KAAG,6BAAV,EAAwC;AACpCC,UAAAA,KAAK,CAAC,6BAAD,CAAL;AACA,eAAKtB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACH;AAEJ,OAPD;AAQH,KAhBD;AAiBH;;AACDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,OAAO,EAAE,MAAI,KAAKnB,WAAL,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ;AAKH;;AAvC6B;;AAyClC,eAAeT,UAAU,CAACC,SAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport {withRouter} from 'react-router-dom';\n\nclass Postorder extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            rid:this.props.r.rid,\n            uid:this.props.uid.email\n        }\n        \n        this.cancelorder=this.cancelorder.bind(this);\n    }\n    cancelorder(){\n        let url=\"http://127.0.0.1:8081/v2/booking/cancelorder\";\n        const data=this.state\n        console.log(data)\n        \n        fetch(url,{\n            method: 'post',\n            headers:{\n                'content-type':'application/json',\n                'accept':'application/xml'\n            },\n            body: JSON.stringify(data)\n        }).then((result) => {\n            result.json().then((resp)=>{\n                console.log(resp)\n                if(resp===\"Your order has been removed\"){\n                    alert(\"Your order has been removed\")\n                    this.props.history.push(\"/orders\");\n                } \n                \n            })\n        })\n    }\n    render() {\n        return (\n            <div>\n                <button className=\"order_cancel\" onClick={()=>this.cancelorder()}>Cancel order</button>\n            </div>\n        )\n    }\n}\nexport default withRouter(Postorder)"]},"metadata":{},"sourceType":"module"}