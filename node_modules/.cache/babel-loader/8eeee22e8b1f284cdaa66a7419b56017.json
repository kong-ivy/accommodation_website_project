{"ast":null,"code":"var _jsxFileName = \"/Users/liuxiaoyan/Desktop/orange/src/Coponent/Search.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      city: \"\",\n      suburb: \"\",\n      check_in_date: \"\",\n      check_out_date: \"\",\n      querystr: \"city=sydney&suburb=maroubra&check_in_date=2020-04-03&check_out_date=2020-04-07\"\n    };\n  }\n\n  async getData() {\n    const data = this.state;\n    console.log(data);\n    const usp = new URLSearchParams(this.state.querystr);\n    usp.set('city', this.state.city);\n    usp.set('suburb', this.state.suburb);\n    usp.set('check_in_date', this.state.check_in_date);\n    usp.set('check_out_date', this.state.check_out_date);\n    console.log(usp);\n    var url = \"http://127.0.0.1:8081/v2/room/search?\";\n    url += usp;\n    const response = await Axios.get(url, {\n      headers: {\n        'content-type': 'application/json',\n        'accept': 'application/xml'\n      }\n    });\n    console.log(response.data);\n  }\n\n  render() {\n    const {\n      city,\n      suburb,\n      check_in_date,\n      check_out_date\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"back\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Find your place\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"City:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"city\",\n      value: city,\n      placeholder: \"input city name\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Suburb:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"suburb\",\n      value: suburb,\n      placeholder: \"input suburb name\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Check in:\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"check_in_date\",\n      value: check_in_date,\n      placeholder: \"input check in date\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Check out:\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"check_out_date\",\n      value: check_out_date,\n      placeholder: \"input check out date\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"sea_button\",\n      onClick: () => {\n        this.getData();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"search\"))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/liuxiaoyan/Desktop/orange/src/Coponent/Search.js"],"names":["React","Component","Axios","Search","constructor","props","handleInputChange","event","preventDefault","setState","target","name","value","state","city","suburb","check_in_date","check_out_date","querystr","getData","data","console","log","usp","URLSearchParams","set","url","response","get","headers","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Axios from 'axios';\n\nclass Search extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            city: \"\",\n            suburb: \"\",\n            check_in_date:\"\",\n            check_out_date:\"\",\n            querystr:\"city=sydney&suburb=maroubra&check_in_date=2020-04-03&check_out_date=2020-04-07\"\n        }\n    }\n    \n\n    async getData(){\n        const data=this.state\n        console.log(data)\n        const usp= new URLSearchParams(this.state.querystr)\n        usp.set('city',this.state.city)\n        usp.set('suburb',this.state.suburb)\n        usp.set('check_in_date',this.state.check_in_date)\n        usp.set('check_out_date',this.state.check_out_date)\n        console.log(usp)\n\n        var url=\"http://127.0.0.1:8081/v2/room/search?\"\n        url+=usp\n        const response=await Axios.get(url,\n        {headers: \n            {'content-type':'application/json',\n                'accept':'application/xml'\n        }\n    })\n        console.log(response.data)\n    }\n    handleInputChange = (event) =>{\n        event.preventDefault()\n        this.setState({\n            [event.target.name] : event.target.value\n        })\n    }\n    render(){\n        const {city,suburb,check_in_date,check_out_date} =this.state\n\n    return (\n        <div className=\"back\">\n            <div className=\"Search\">\n                <h2>Find your place</h2>\n                <br/>\n                \n                <label className=\"ci\"><b>City:</b>\n                    <input type=\"text\" name=\"city\" value={city} placeholder=\"input city name\"\n                    onChange={this.handleInputChange}/>\n                </label>\n                <br/>\n                <label className=\"ci\"><b>Suburb:</b>\n                    <input type=\"text\" name=\"suburb\" value={suburb} placeholder=\"input suburb name\"\n                    onChange={this.handleInputChange}/>  \n                </label>\n                <br/>\n                <label className=\"ci\"><b>Check in:</b>\n                <input type=\"date\" name=\"check_in_date\" value={check_in_date} placeholder=\"input check in date\"\n                onChange={this.handleInputChange}/>\n                </label>\n                <br/>\n                <label className=\"ci\"><b>Check out:</b>\n                    <input type=\"date\" name=\"check_out_date\" value={check_out_date} placeholder=\"input check out date\"\n                    onChange={this.handleInputChange}/>\n                </label>\n                <br/>\n                <button className=\"sea_button\" onClick={()=> {this.getData()}}>\n                    <h3>search</h3>\n                </button>\n                        \n            </div>\n        </div>\n    );\n    }\n}\nexport default Search;"]},"metadata":{},"sourceType":"module"}