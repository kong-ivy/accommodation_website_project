{"ast":null,"code":"var _jsxFileName = \"/Users/liuxiaoyan/Desktop/orange/src/Coponent/Search.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport PropTypes from 'prop-types';\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      city: \"\",\n      suburb: \"\",\n      check_in_date: \"\",\n      check_out_date: \"\",\n      querystr: \"city=sydney&suburb=maroubra&check_in_date=2020-04-03&check_out_date=2020-04-07\",\n      items: [],\n      isloaded: false\n    };\n  }\n\n  async getData() {\n    const data = this.state;\n    console.log(data);\n    const usp = new URLSearchParams(this.state.querystr);\n    usp.set('city', this.state.city);\n    usp.set('suburb', this.state.suburb);\n    usp.set('check_in_date', this.state.check_in_date);\n    usp.set('check_out_date', this.state.check_out_date);\n    console.log(usp);\n    var url = \"http://127.0.0.1:8081/v2/room/search?\";\n    url += usp;\n    Axios.get(url).then(res => {\n      console.log(\"res:\", res.data);\n      this.props.updateitems(res.data);\n      this.setState({\n        items: res.data,\n        isloaded: true\n      });\n    });\n  }\n\n  homedata() {\n    return this.state.items;\n  }\n\n  render() {\n    const {\n      city,\n      suburb,\n      check_in_date,\n      check_out_date,\n      items\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"back\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Find your place\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"City:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"city\",\n      value: city,\n      placeholder: \"input city name\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Suburb:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"suburb\",\n      value: suburb,\n      placeholder: \"input suburb name\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Check in:\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"check_in_date\",\n      value: check_in_date,\n      placeholder: \"input check in date\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"ci\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Check out:\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"check_out_date\",\n      value: check_out_date,\n      placeholder: \"input check out date\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"sea_button\",\n      onClick: () => {\n        this.getData();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"search\"))), this.state.items.map(details => React.createElement(\"li\", {\n      key: details.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, details.description)));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/liuxiaoyan/Desktop/orange/src/Coponent/Search.js"],"names":["React","Component","Axios","PropTypes","Search","constructor","props","handleInputChange","event","preventDefault","setState","target","name","value","state","city","suburb","check_in_date","check_out_date","querystr","items","isloaded","getData","data","console","log","usp","URLSearchParams","set","url","get","then","res","updateitems","homedata","render","map","details","description"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Axios from 'axios';\nimport PropTypes from 'prop-types';\n\nclass Search extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            city: \"\",\n            suburb: \"\",\n            check_in_date:\"\",\n            check_out_date:\"\",\n            querystr:\"city=sydney&suburb=maroubra&check_in_date=2020-04-03&check_out_date=2020-04-07\",\n            items:[],\n            isloaded:false\n        }\n    }\n\n    async getData(){\n        const data=this.state\n        console.log(data)\n        const usp= new URLSearchParams(this.state.querystr)\n        usp.set('city',this.state.city)\n        usp.set('suburb',this.state.suburb)\n        usp.set('check_in_date',this.state.check_in_date)\n        usp.set('check_out_date',this.state.check_out_date)\n        console.log(usp)\n\n        var url=\"http://127.0.0.1:8081/v2/room/search?\"\n        url+=usp\n        Axios.get(url)\n            .then(res=>{\n                console.log(\"res:\",res.data);\n                this.props.updateitems(res.data);   \n                this.setState({items: res.data,\n                                isloaded:true})\n                \n            });  \n        \n        \n        \n            \n    }\n    handleInputChange = (event) =>{\n        event.preventDefault()\n        this.setState({\n            [event.target.name] : event.target.value\n        })\n    }\n    homedata(){\n        return (this.state.items)\n    }\n    render(){\n        const {city,suburb,check_in_date,check_out_date,items} =this.state\n    return (\n        <div className=\"back\">\n            <div className=\"Search\">\n                <h2>Find your place</h2>\n                <br/>\n                \n                <label className=\"ci\"><b>City:</b>\n                    <input type=\"text\" name=\"city\" value={city} placeholder=\"input city name\"\n                    onChange={this.handleInputChange}/>\n                </label>\n                <br/>\n                <label className=\"ci\"><b>Suburb:</b>\n                    <input type=\"text\" name=\"suburb\" value={suburb} placeholder=\"input suburb name\"\n                    onChange={this.handleInputChange}/>  \n                </label>\n                <br/>\n                <label className=\"ci\"><b>Check in:</b>\n                <input type=\"date\" name=\"check_in_date\" value={check_in_date} placeholder=\"input check in date\"\n                onChange={this.handleInputChange}/>\n                </label>\n                <br/>\n                <label className=\"ci\"><b>Check out:</b>\n                    <input type=\"date\" name=\"check_out_date\" value={check_out_date} placeholder=\"input check out date\"\n                    onChange={this.handleInputChange}/>\n                </label>\n                <br/>\n                <button className=\"sea_button\" onClick={()=> {this.getData()}}>\n                    <h3>search</h3>\n                </button>  \n                \n            </div>\n            {this.state.items.map(details=>(\n                    <li key={details.name}>{details.description}</li>\n                ))\n            }\n            \n        </div>\n        \n        \n    );\n    }\n}\nexport default Search;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}